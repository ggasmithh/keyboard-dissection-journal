<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Dissection of the ZJTL Piano Toy Keyboard</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/scrolling-nav.css" rel="stylesheet">

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">Dissection Journal</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#intro">Introduction</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#market">Market Analysis</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#dissection">Dissection</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#operation">Operation</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#analysis">Analysis</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#reassembly">Reassembly</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="bg-primary text-white">
    <div class="container text-center">
      <h1>Behold</h1>
      <img src="img/piano.png" class="rounded img-fluid" alt="The ZJTL Piano Toy Keyboard">
      <h1>The ZJTL Piano Toy Keyboard</h1>
    </div>
  </header>

  <section id="intro">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2>Introduction</h2>
          <p class="lead"> My name is Garrett Smith. I am a senior pursuing a degree in Computer 
            Engineering, minors in Math and Global Engineering Leadership, and a 
            certification in Information Assurance.</p>
          <p>This website serves as a record of work performed during the 
            dissection and analysis of a small, electronic piano. The dissection 
            and analysis&mdash;as well as the creation of this website&mdash;were performed 
            according to the requirements, listed 
            <a href="https://courses.ece.msstate.edu/ece4723/dissect/">here</a>.
          </p>
        </div>
      </div>
    </div>
  </section>

  <section id="market" class="bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2>Market Analysis</h2>
          <p class="lead"> The ZJTL Piano Toy Keyboard is manufactured by Zhejiang Tianlong Optoelectronics Technology Co. Ltd., located 
            in the Zhejiang province of China. At the time of listing, it was sold as a direct-from-manufacturer product 
            on Amazon for the price of $9.99 USD. Interestingly, this price point was not recorded by price-tracking applications (see below).
          </p>

          <img src="img/price-history.png" class="rounded img-fluid" alt="A line graph depicting the price history of the keyboard.">

          This product was not found in the second-hand market, has no market history to speak of, and has no whitelabel, rebranded, or OEM versions.

          <p>
            On a more personal-history note (as opposed to the history of the product itself), 
            this is actually the second keyboard I ordered from Zhejiang Tianlong Optoelectronics Technology; 
            The first one arrived as a box of plastic shards and scattered electronics, which made dissection difficult.
          </p>

          <p class="lead">
            From ZJTL's storefront on Amazon:
            <img src="img/marketdetails.PNG" class="rounded img-fluid" alt="Product details on amazon">
          </p>
          <p>
            I'm hesitant to trust this information, as the number of tones, rhythms, and demo songs available are 
            inaccurate, and no mention of the mysterious SAOCOOL is made outside of these product details. 
            Finally, the picture displayed on amazon isn't even of the keyboard I purchased. It seems to change occasionally.
          </p>
        </div>
      </div>
    </div>
  </section>

  <section id="dissection">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2>Dissection</h2>

          <p class="lead">
            An image of the ZJTL Piano Toy Keyboard in its packaging, which was definitely <em>not</em> 
            hastily taken at the end of this project after re-reviewing the rubric. Don't check the image metadata.
            <img src="img/journal/000.jpg" class="rounded img-fluid" alt="The device in its package">
          </p>
          
          <p class="lead">For the dissection of the ZJTL Piano Toy Keyboard, I used the following tools:
            <ul>
              <li>Screwdriver</li>
              <li>Silicone project mat with screw trays</li>
              <li>Work lamp which ended up causing my photos to be horribly over-exposed, but working without it made the images too dark to see</li>
              <li>My trusty Opinel No. 6 pocket knife</li>
              <li>Digital Kitchen Scale</li>
              <li>iPhone 6s for photos and frequency analysis</li>
              <li>Electrical Tape</li>
              <li>Digital multimeter</li>
            </ul>

          </p>

          <img src="img/journal/001.jpg" class="rounded img-fluid" alt="The keyboard, the included microphone, and the owner's manual">

          <p>

            We begin the dissection of this "Musical Information System" by removing the nine screws in the back of the piano's body, as well as the screw 
            holding the battery compartment closed. I anticipate that the manufacturer has hidden a screw beneath it.
          </p>

          <p>
            These screws seem particularly small, so I will be using a 000 Phillips Head bit.

            <img src="img/journal/002.jpg" class="rounded img-fluid" alt="The back of the keyboard">
            My previous suspicion confirmed. This brings the screw count up to 10, or 11 if you include the battery compartment cover's.
            <p></p>
            <img src="img/journal/003.jpg" class="rounded img-fluid" alt="The screw hiding in the battery compartment">
            <p></p>
            <img src="img/journal/004.jpg" class="rounded img-fluid" alt="The back of the keyboard with all screws removed">
            <p></p>
            Unscrewing these placed a concerning amount of mechanical strain on the body of the keyboard; All screws on 
            the edge of the body caused a considerable amount of bowing of the plastic, as well as some creaking sounds. 
            This may go without saying, but judging by the use of screws with pointed tips, I don't think the manufacturer 
            intended for this keyboard to be disassembled. Additionally, the screws themselves were extremely soft&mdash;I stripped one with minimal torque.
          </p>

          <h3>The Reveal</h3>
          <p class="lead">

            I'm not sure what I was expecting, but it wasn't this. I understood that this would likely be a very simple system, not this simple.

          </p>
          <p>
            Immediately, I notice that one of the speakers. . . well. . . does not actually exist; one of the sets of holes made for sound to pass through was included only for aesthetic purposes.
            <img src="img/journal/005.jpg" class="rounded img-fluid" alt="The keyboard, opened">

            Additionally, it seems that all components are wired to this <em>one</em> board. I'm still wondering how this 
            thing manages to have <em>twenty-four</em> demo songs stored on it, not to mention (what I assume at this stage of my understanding of this product) all the wave-tables for each instrument.
            <p></p>
            <img src="img/journal/006.jpg" class="rounded img-fluid" alt="The close up of the PCB inside the keyboard">
            <p></p>
            <img src="img/journal/007.jpg" class="rounded img-fluid" alt="The close up of the part number on the PCB">

            Two things strike me as important from this image.

            <ol>
              <li>What appears to be some sort of ID of the board design itself.</li>
              <li>The screenprinting on the IC</li>
            </ol>
          </p>
          <p>
            My camera phone is only capable of so much (and I have misplaced every free clip-on camera phone lens I have received from recruiters at job fairs), so you will have to trust me when I say that it reads:

            <p class="text-monospace">
              MPAK<br/>
              LM386<br/>
              M-1<br/>
            </p>

          </p>

          <h3>A Quick Aside: Investigation of Parts</h3>
          <p class="lead">
            The part number and date listed on the board itself interested me the most, so I plugged it into a search engine:

            <img src="img/journal/008.jpg" class="rounded img-fluid" alt="Duck Duck Go finding no results for the PCB's Part number">
          </p>
          <p>
            The results were disappointing, but I chalked up this initial failure to DuckDuckGo's sometimes inferior indexing, and turned to Google. . .

            <img src="img/journal/009.jpg" class="rounded img-fluid" alt="Google finding no results for the PCB's Part number">

            . . . which gave equally disappointing results. I decided to loosen up the search parameters by removing the 
            quotation marks, and was presented with <a href="https://www.youtube.com/watch?v=yqphxjTINkw">this Youtube video</a> of a review of a children's synthesizer. 
            Neither the description nor the comments contained the string in question, but the relevance to the dissection was interesting.
          </p>
          <h4>Part 2: The LM386</h4>
          <p class="lead">
            This one was as easy to find as I had hoped. The LM386 is a Low Voltage Audio Power Amplifier manufactured by Texas Instruments.
            
            <img src="img/journal/010.jpg" class="rounded img-fluid" alt="Screenshot of the Texas Instruments Datasheet for the LM386">

            <a href="http://www.ti.com/lit/ds/symlink/lm386.pdf">datasheet</a><br/>
          </p>
          <p>
            I would fully expect this keyboard to contain an amplifier, seeing that it is an audio device, but the fact 
            that this chip isn't "the brains of this operation," so to speak, leaves me worried that the chip doing the 
            audio processing is hidden under a blob of black epoxy as is so annoyingly common with these devices.
          </p>

          <h3>Further dissection</h3>
          <p class="lead">
            The details concerning the audio amplifier and its supporting
            components are interesting, but can be analyzed later. Let's continue dissecting the piano.
            
            The screw holding the amplification circuit board in place is a little bit bigger, so I'm switching to a PH0 bit.
            <img src="img/journal/011.jpg" class="rounded img-fluid" alt="Screwdriver with PH0 and PH00 bits">
            
          </p>
          <p>
            <img src="img/journal/012.jpg" class="rounded img-fluid" alt="Underside of amplification circuit">
            The audio-processing chip is nowhere to be found, and my fear of the inevitable IC-under-a-black-blob grows.

            After some more thorough searching, I find it. The audio processing chip, hiding in plain sight (bringing our circuit-count up to two).
            <p></p>
            <img src="img/journal/013.jpg" class="rounded img-fluid" alt="Audio processing circuit">
            My fears are once again confirmed; the chip is encased in black epoxy. I'm almost certain that this is the chip we are looking for,
            as the keyboard buttons, the mic input, and the amplification circuit all connect to it.

            My disappointment turns me back to looking up solutions to this problem. 
            I find <a href="https://electronics.stackexchange.com/questions/108940/reverse-engineer-how-do-i-remove-the-black-plastic-that-hides-the-ics">an answer on stack exchange</a>, 
            which suggests one of the two following methods:

            <ol>
              <li>Use a hotplate, nitric acid, and a rotary tool to remove the epoxy (all of which I am in short supply of and can neither reasonably acquire nor set up a safe environment in which to use them)</li>
              <li>Use a heat-gun and an X-acto knife. I have both of these, but it destroys the chip's bonding wires (we need those)</li>
            </ol>

            I am left solutionless (ha, nitric acid). Fortunately, we have more-or-less a free pin-out if we can 
            <em><u>carefully</u></em> strip parts of these ribbon cables. This sounds like a tedious 
            process that I will hand off to future-me.
          </p>
          <h3>Dissection Aside: how is that PCB being held on?</h3>
          <p class="lead">
            From the image above, we cannot really tell <em>how</em> the circuit board holding the apparent audio 
            processing chip is being held in place; there aren't any screws, any 90-degree brackets, or any other
            mechanical feature. In fact, it seems like this chip has just been placed in a slot.
          </p>

          <p>
          To find out, we will unscrew the four screws (one is hidden beneath the ribbon cable) holding this long PCB in place
          <img src="img/journal/014.jpg" class="rounded img-fluid" alt="Interior of piano">

          Indeed, the smaller PCB is simply slotted into the larger one, with some mechanical soldering points to join them.
          <img src="img/journal/015.jpg" class="rounded img-fluid" alt="Underside of button PCB and audio processing PCB">
          It seems like that this is the PCB that holds all of the non-key buttons of the keyboard (other than the power button).
          As far as I can tell, these are capacitive switches, which are very cheap and easy to manufacture, and are fairly durable
          and long-lasting, depending on the operation environment.
          </p>

          <p class="lead">Only one electronic piece remains to be dissected.</p>

          <img src="img/journal/016.jpg" class="rounded img-fluid" alt="Interior of the piano, detailing the keyboard PCB">

          <p>
            Specifically, the long PCB that presumably holds the switches that each of the plastic keys presses down.

            <img src="img/journal/017.jpg" class="rounded img-fluid" alt="Interior of the piano, detailing the keyboard PCB with switches exposed">

            Indeed, capacitive switches similar to those found underneath the operation buttons are housed on this PCB. 
            Interestingly enough, this PCB has some sort of part number, as well as a date.

            <img src="img/journal/018.jpg" class="rounded img-fluid" alt="Part number and date on keyboard PCB">

            I'll spare the reader the details, but searches performed on this part number were equally as fruitless as 
            previous attempts to do so for other parts analyzed in this dissection.
          </p>

          <p class="lead">
            I was mistaken, there remains one final dissect-able electronic component.
          </p>

          <p>
            <img src="img/journal/019.jpg" class="rounded img-fluid" alt="Power button PCB">
          </p>

          <p>
            The power button for this keyboard, funnily enough, is soldered onto its own PCB&mdash;by two of its six connections.
            From the number of leads coming off of this switch, I have to assume that this is a Double-Pole Double-Throw 
            switch. . . being used as. . . a Single-Pole Single-Throw switch. . . .
          </p>

          <p class="lead">With all of the electronic components explored, we remove the remaining mechanical parts.</p>
          
          <p>
            <img src="img/journal/020.jpg" class="rounded img-fluid" alt="Keyboard completely dissected">
            This concludes the dissection of the ZJTL Piano Toy Keyboard. We dissected all parts except for:

            <ol>
              <li>The microphone (not part of the keyboard, difficult to non-destructively disassemble, and I would be willing to bet money that it's just a Piezo-electric sensor inside)</li>
              <li>The microphone input (nothing to dissect)</li>
              <li>The speaker (plastic-welded into the body, impossible to non-destructively disassemble, and I don't have the supplies to reconstruct a speaker cone)</li>
            </ol>


          </p>


        </div>
      </div>
    </div>
  </section>

  <section id="operation" class="bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2>Operation</h2>
          <p class="lead">This is where the operation section will go.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="analysis">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2>Analysis</h2>

          <p class="lead">
            First, a look at the structure of the device from a high-level point of view.

            <img src="img/diagrams/hl.png" class="rounded img-fluid" alt="High level diagram of keyboard">

          </p>
          <p>
            As for a block-level diagram of the keyboard operation, the above high-level diagram would also map pretty 
            well, but we should include the batteries.

            <img src="img/diagrams/bl.png" class="rounded img-fluid" alt="Block-level diagram of electrical systems">
          </p>

          <h3>Operational Measurements</h3>
          <p class="lead">
            Theoretically, with 4 AA batteries in series, we should be pulling roughly 6V. 
            This seems to be the case as my multimeter reads 5.84V fairly consistently, and the 
            most common setups of the audio amplification circuit according to LM386 datasheet.
            show a 5V source being used.
          </p>

          <p>
            An oscilloscope would be ideal for measuring frequencies, but due to COVID-19, I'll make do with an iPhone
            piano tuning app (I would take pictures of this process if I weren't using this app on the only camera device that I own).

            The piano tuning app recorded the lowest possible frequency produced by the keyboard as 145Hz, and the highest as 1160Hz.

          </p>

          <h2>Mechanical Bill of Materials</h2>
          <p class="lead"> The ZJTL Piano Toy Keyboard claims to be made out of ABS plastic, and this appears to be true.</p>

          <p>A good deal of the keyboard body bears the pockmarks of injection molding, 
            especially on the plastic standoffs and small buttons. These are included but not limited to small, thin 
            "tags" of plastic hanging off of small or precise parts of plastic, and welds or knit lines on large pieces. 
            With this in mind, I'll use the pricing of ABS plastic for the mechanical BoM. Additionally, I will list the 
            price of materials for <em>one keyboard</em>. Its very likely that the scale at which Zhejiang Tianlong 
            Optoelectronics Technology Co. Ltd. manufactures these keyboards makes the material costs literally cheaper 
            than dirt, and listing prices in tenths of a cent probably isn't very relatable to the reader.
          </p>

          <h3>Weighing</h3>
          

        </div>
      </div>
    </div>
  </section>

  <section id="reassembly" class="bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h2>Reassembly</h2>
          <p class="lead">
            The greatest challenge of all: doing what we just did in reverse <em>but while avoiding losing parts and/or screws</em>.
          </p>
          
          <p>
            The rubicon is crossed with the first screw of the reassembly process.
            <img src="img/reassembly/000.jpg" class="rounded img-fluid" alt="The first screw of the reassembly">
            The die has been cast.
            <p></p>
            I will spare the reader the thrilling details of each screw reinserted for this piece.

            <img src="img/reassembly/001.jpg" class="rounded img-fluid" alt="Reattached keys">

            The keys themselves are reattached, and the key caps for the operational buttons are reinserted as well.
            <p></p>
            <img src="img/reassembly/002.jpg" class="rounded img-fluid" alt="Reattached power button">

            The power button goes on next.
            <p></p>
            <img src="img/reassembly/003.jpg" class="rounded img-fluid" alt="Error in reattaching keyboard PCB">
            
            I make a slight error in re-attaching the keyboard PCB here, and immediately assume something has gone catastrophically wrong (i.e. losing a screw or another piece).
            It turns out I just had these on the wrong standoffs. This is corrected and the keyboard PCB is attached as shown in later pictures.
          </p>
          
          <p>
            At this point, I decided to improve perhaps the most glaring issue with this product: the overall flimsiness.
            Ideally, I would like to attach some plastic bracket that holds the keyboard PCB in place, 
            or even affix some kind of spacer between the keys and the capacitive switches themselves. 
            Unfortunately, I have neither the materials nor the tools to do so. Astonishingly, the only thing I own 
            analogous to an adhesive is nail-polish, which proved ineffective.
          </p>
          <p>
            N.B. acetone does not mix well with this type of plastic.

            <img src="img/reassembly/004.jpg" class="rounded img-fluid" alt="Cardboard shim to reinforce keys">

            The solution I settled on given the tools and resources available to me under shelter-in-place orders 
            was a cardboard shim reinforced with electrical tape. I initially planned on using the pictured zipties to 
            further reinforce this, but the width and irregularity would introduce too much play between keys.

            <img src="img/reassembly/005.jpg" class="rounded img-fluid" alt="Existing supports for keyboard">

            I decided to place this shim on what appear to be the existing supports for the keyboard. 
            I assume that is what these cylinders' purpose is, as they aren't machined for screws, 
            and have no plastic dust inside or around them, as the other screwholes did after initial dissection.

            <img src="img/reassembly/006.jpg" class="rounded img-fluid" alt="Test fit of the shim">

            The test fit leads me to conclude that this should work, so I remove it for now and continue with the de-dissection.

            <img src="img/reassembly/007.jpg" class="rounded img-fluid" alt="Reattached operational buttons PCB">

            The operational buttons PCB is reattached successfully, and the keyboard PCB is back where it belongs.
            <p></p>
            <img src="img/reassembly/008.jpg" class="rounded img-fluid" alt="Reattached amplification circuit">

            Amplification circuit: online.
            <p></p>
            <img src="img/reassembly/009.jpg" class="rounded img-fluid" alt="Final part placement">

            A final check of the parts, as well as the insertion of the cardboard shim brings this re-assembly close to its conclusion.

            <img src="img/reassembly/010.jpg" class="rounded img-fluid" alt="Back plate attached">

            The back plate goes on successfully.
            <p></p>
            <img src="img/reassembly/010.jpg" class="rounded img-fluid" alt="Battery compartment">

            The classic screw-hidden-behind-the-batteries trick that the designers have decided to torture me with 
            comes into play once more, so the batteries are removed and the screw is re-screwed.
            I'll, once again, opt to spare the reader the exciting process of screwing in the remaining screws. 
            Surprisingly, a screw that was one stripped is seemingly not stripped any more. 
            I have photographic evidence proving that I didn't lose a screw, so I'll assume that the gods of Zhejiang 
            Tianlong Optoelectronics Technology Co. Limited have decided to smile upon me in these trying times.
          </p>

          <p class="lead">
            Behold
            <img src="img/reassembly/012.jpg" class="rounded img-fluid" alt="Battery compartment">
            The ZJTL Piano Toy Keyboard v2 with improved keyboard stability.
          </p>

          <p>
            The cardboard-shim attempt was really a hail mary, but it surprisingly improved the tactility of the keyboard greatly.
            Thus concludes the reassembly.
          </p>

        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-5 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">ECE 4723, Spring 2020</p>
      <p class="m-0 text-center text-white">Mississippi State University</p>
      <p class="m-0 text-center text-white">Theme provided under <a href="https://github.com/BlackrockDigital/startbootstrap-scrolling-nav/blob/master/LICENSE">The MIT License</a></p>
    </div>
    <!-- /.container -->
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom JavaScript for this theme -->
  <script src="js/scrolling-nav.js"></script>

</body>

</html>
